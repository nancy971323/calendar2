{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-content\"\n};\nconst _hoisted_3 = {\n  class: \"overview-content\"\n};\nconst _hoisted_4 = {\n  class: \"dashboard-cards\"\n};\nconst _hoisted_5 = {\n  class: \"stats-value\"\n};\nconst _hoisted_6 = {\n  class: \"stats-value\"\n};\nconst _hoisted_7 = {\n  class: \"stats-value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Card = _resolveComponent(\"Card\");\n  const _component_TabPanel = _resolveComponent(\"TabPanel\");\n  const _component_EmployeeManagement = _resolveComponent(\"EmployeeManagement\");\n  const _component_EventManagement = _resolveComponent(\"EventManagement\");\n  const _component_TabView = _resolveComponent(\"TabView\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"dashboard-header\"\n  }, [_createElementVNode(\"h1\", null, \"後台管理\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_TabView, null, {\n    default: _withCtx(() => [_createVNode(_component_TabPanel, {\n      header: \"概覽\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_Card, {\n        class: \"stats-card\"\n      }, {\n        title: _withCtx(() => _cache[0] || (_cache[0] = [_createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n          class: \"pi pi-users\"\n        }), _createTextVNode(\" 員工統計\")], -1 /* HOISTED */)])),\n        content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.stats.employeeCount), 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n          class: \"stats-label\"\n        }, \"活躍員工\", -1 /* HOISTED */))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Card, {\n        class: \"stats-card\"\n      }, {\n        title: _withCtx(() => _cache[2] || (_cache[2] = [_createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n          class: \"pi pi-calendar\"\n        }), _createTextVNode(\" 事件統計\")], -1 /* HOISTED */)])),\n        content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, _toDisplayString($setup.stats.eventCount), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n          class: \"stats-label\"\n        }, \"本月事件\", -1 /* HOISTED */))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_Card, {\n        class: \"stats-card\"\n      }, {\n        title: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n          class: \"pi pi-shield\"\n        }), _createTextVNode(\" 安全等級\")], -1 /* HOISTED */)])),\n        content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, _toDisplayString($setup.stats.securityLevel), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n          class: \"stats-label\"\n        }, \"您的權限等級\", -1 /* HOISTED */))]),\n        _: 1 /* STABLE */\n      })]), _cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n        class: \"dashboard-intro\"\n      }, [_createElementVNode(\"h2\", null, \"後台管理說明\"), _createElementVNode(\"p\", null, \" 歡迎使用企業行事曆系統後台管理。在此您可以管理員工帳號和行事曆事件，根據您的權限等級， 您可以執行不同的操作。使用上方的標籤可以切換不同的管理功能。 \"), _createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createElementVNode(\"strong\", null, \"員工管理：\"), _createTextVNode(\" 創建、編輯和刪除員工帳號，設置員工權限等級。\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"strong\", null, \"行事曆管理：\"), _createTextVNode(\" 管理所有的行事曆事件，包括創建、編輯和刪除事件。\")])])], -1 /* HOISTED */))])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_TabPanel, {\n      header: \"員工管理\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_EmployeeManagement)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_TabPanel, {\n      header: \"行事曆管理\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_EventManagement)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_TabView","default","_withCtx","_component_TabPanel","header","_hoisted_3","_hoisted_4","_component_Card","title","_cache","_createTextVNode","content","_hoisted_5","_toDisplayString","$setup","stats","employeeCount","_","_hoisted_6","eventCount","_hoisted_7","securityLevel","_component_EmployeeManagement","_component_EventManagement"],"sources":["/Users/lidiannan/Documents/GitHub/calendar2/frontend/src/components/Dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"dashboard-header\">\n      <h1>後台管理</h1>\n    </div>\n    \n    <div class=\"dashboard-content\">\n      <TabView>\n        <TabPanel header=\"概覽\">\n          <div class=\"overview-content\">\n            <div class=\"dashboard-cards\">\n              <Card class=\"stats-card\">\n                <template #title>\n                  <h2><i class=\"pi pi-users\"></i> 員工統計</h2>\n                </template>\n                <template #content>\n                  <div class=\"stats-value\">{{ stats.employeeCount }}</div>\n                  <div class=\"stats-label\">活躍員工</div>\n                </template>\n              </Card>\n              \n              <Card class=\"stats-card\">\n                <template #title>\n                  <h2><i class=\"pi pi-calendar\"></i> 事件統計</h2>\n                </template>\n                <template #content>\n                  <div class=\"stats-value\">{{ stats.eventCount }}</div>\n                  <div class=\"stats-label\">本月事件</div>\n                </template>\n              </Card>\n              \n              <Card class=\"stats-card\">\n                <template #title>\n                  <h2><i class=\"pi pi-shield\"></i> 安全等級</h2>\n                </template>\n                <template #content>\n                  <div class=\"stats-value\">{{ stats.securityLevel }}</div>\n                  <div class=\"stats-label\">您的權限等級</div>\n                </template>\n              </Card>\n            </div>\n            \n            <div class=\"dashboard-intro\">\n              <h2>後台管理說明</h2>\n              <p>\n                歡迎使用企業行事曆系統後台管理。在此您可以管理員工帳號和行事曆事件，根據您的權限等級，\n                您可以執行不同的操作。使用上方的標籤可以切換不同的管理功能。\n              </p>\n              <ul>\n                <li><strong>員工管理：</strong> 創建、編輯和刪除員工帳號，設置員工權限等級。</li>\n                <li><strong>行事曆管理：</strong> 管理所有的行事曆事件，包括創建、編輯和刪除事件。</li>\n              </ul>\n            </div>\n          </div>\n        </TabPanel>\n        \n        <TabPanel header=\"員工管理\">\n          <EmployeeManagement />\n        </TabPanel>\n        \n        <TabPanel header=\"行事曆管理\">\n          <EventManagement />\n        </TabPanel>\n      </TabView>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport EmployeeManagement from './EmployeeManagement.vue'\nimport EventManagement from './EventManagement.vue'\n\nexport default {\n  name: 'DashboardComponent',\n  \n  components: {\n    EmployeeManagement,\n    EventManagement\n  },\n  \n  setup() {\n    const store = useStore()\n    \n    // 統計數據\n    const stats = ref({\n      employeeCount: 0,\n      eventCount: 0,\n      securityLevel: ''\n    })\n    \n    // 計算屬性\n    const currentUser = computed(() => store.getters['auth/currentUser'])\n    const employees = computed(() => store.getters['employee/employees'])\n    const events = computed(() => store.getters['calendar/events'])\n    \n    // 格式化安全等級\n    const formatSecurityLevel = (level) => {\n      if (!level) return ''\n      \n      switch(level) {\n        case 'LEVEL_1': return '最高權限 (等級1)'\n        case 'LEVEL_2': return '高級權限 (等級2)'\n        case 'LEVEL_3': return '中級權限 (等級3)'\n        case 'LEVEL_4': return '基本權限 (等級4)'\n        default: return level\n      }\n    }\n    \n    // 初始化\n    onMounted(async () => {\n      // 加載員工列表\n      try {\n        await store.dispatch('employee/fetchActiveEmployees')\n      } catch (error) {\n        console.error('無法加載員工列表:', error)\n      }\n      \n      // 加載本月事件\n      try {\n        await store.dispatch('calendar/fetchMonthEvents')\n      } catch (error) {\n        console.error('無法加載事件列表:', error)\n      }\n      \n      // 更新統計數據\n      stats.value = {\n        employeeCount: employees.value.length,\n        eventCount: events.value.length,\n        securityLevel: formatSecurityLevel(currentUser.value?.securityLevel)\n      }\n    })\n    \n    return {\n      stats\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dashboard-container {\n  background-color: #ffffff;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n  padding: 1.5rem;\n}\n\n.dashboard-header {\n  margin-bottom: 1.5rem;\n}\n\n.dashboard-header h1 {\n  margin: 0;\n  color: #3B82F6;\n  font-size: 1.8rem;\n}\n\n.overview-content {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.dashboard-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n}\n\n.stats-card {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n}\n\n.stats-card h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.stats-card h2 i {\n  color: #3B82F6;\n}\n\n.stats-value {\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: #3B82F6;\n  text-align: center;\n  margin: 1rem 0;\n}\n\n.stats-label {\n  text-align: center;\n  color: #6c757d;\n  font-size: 1rem;\n}\n\n.dashboard-intro {\n  background-color: #f8f9fa;\n  padding: 1.5rem;\n  border-radius: 8px;\n  border-left: 4px solid #3B82F6;\n}\n\n.dashboard-intro h2 {\n  margin-top: 0;\n  color: #3B82F6;\n  font-size: 1.4rem;\n}\n\n.dashboard-intro p {\n  line-height: 1.6;\n  color: #495057;\n}\n\n.dashboard-intro ul {\n  margin-top: 1rem;\n  padding-left: 1.5rem;\n}\n\n.dashboard-intro li {\n  margin-bottom: 0.5rem;\n  color: #495057;\n}\n\n@media (max-width: 768px) {\n  .dashboard-cards {\n    grid-template-columns: 1fr;\n  }\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAqB;;EAKzBA,KAAK,EAAC;AAAmB;;EAGnBA,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAiB;;EAMjBA,KAAK,EAAC;AAAa;;EAUnBA,KAAK,EAAC;AAAa;;EAUnBA,KAAK,EAAC;AAAa;;;;;;;uBAnCxCC,mBAAA,CAgEM,OAhENC,UAgEM,G,0BA/DJC,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAkB,IAC3BG,mBAAA,CAAa,YAAT,MAAI,E,sBAGVA,mBAAA,CA0DM,OA1DNC,UA0DM,GAzDJC,YAAA,CAwDUC,kBAAA;IA/DhBC,OAAA,EAAAC,QAAA,CAQQ,MA8CW,CA9CXH,YAAA,CA8CWI,mBAAA;MA9CDC,MAAM,EAAC;IAAI;MAR7BH,OAAA,EAAAC,QAAA,CASU,MA4CM,CA5CNL,mBAAA,CA4CM,OA5CNQ,UA4CM,GA3CJR,mBAAA,CA8BM,OA9BNS,UA8BM,GA7BJP,YAAA,CAQOQ,eAAA;QARDb,KAAK,EAAC;MAAY;QACXc,KAAK,EAAAN,QAAA,CACd,MAAyCO,MAAA,QAAAA,MAAA,OAAzCZ,mBAAA,CAAyC,aAArCA,mBAAA,CAA2B;UAAxBH,KAAK,EAAC;QAAa,IAb5CgB,gBAAA,CAaiD,OAAK,E;QAE3BC,OAAO,EAAAT,QAAA,CAChB,MAAwD,CAAxDL,mBAAA,CAAwD,OAAxDe,UAAwD,EAAAC,gBAAA,CAA5BC,MAAA,CAAAC,KAAK,CAACC,aAAa,kB,0BAC/CnB,mBAAA,CAAmC;UAA9BH,KAAK,EAAC;QAAa,GAAC,MAAI,qB;QAjB/CuB,CAAA;UAqBclB,YAAA,CAQOQ,eAAA;QARDb,KAAK,EAAC;MAAY;QACXc,KAAK,EAAAN,QAAA,CACd,MAA4CO,MAAA,QAAAA,MAAA,OAA5CZ,mBAAA,CAA4C,aAAxCA,mBAAA,CAA8B;UAA3BH,KAAK,EAAC;QAAgB,IAvB/CgB,gBAAA,CAuBoD,OAAK,E;QAE9BC,OAAO,EAAAT,QAAA,CAChB,MAAqD,CAArDL,mBAAA,CAAqD,OAArDqB,UAAqD,EAAAL,gBAAA,CAAzBC,MAAA,CAAAC,KAAK,CAACI,UAAU,kB,0BAC5CtB,mBAAA,CAAmC;UAA9BH,KAAK,EAAC;QAAa,GAAC,MAAI,qB;QA3B/CuB,CAAA;UA+BclB,YAAA,CAQOQ,eAAA;QARDb,KAAK,EAAC;MAAY;QACXc,KAAK,EAAAN,QAAA,CACd,MAA0CO,MAAA,QAAAA,MAAA,OAA1CZ,mBAAA,CAA0C,aAAtCA,mBAAA,CAA4B;UAAzBH,KAAK,EAAC;QAAc,IAjC7CgB,gBAAA,CAiCkD,OAAK,E;QAE5BC,OAAO,EAAAT,QAAA,CAChB,MAAwD,CAAxDL,mBAAA,CAAwD,OAAxDuB,UAAwD,EAAAP,gBAAA,CAA5BC,MAAA,CAAAC,KAAK,CAACM,aAAa,kB,0BAC/CxB,mBAAA,CAAqC;UAAhCH,KAAK,EAAC;QAAa,GAAC,QAAM,qB;QArCjDuB,CAAA;sCA0CYpB,mBAAA,CAUM;QAVDH,KAAK,EAAC;MAAiB,IAC1BG,mBAAA,CAAe,YAAX,QAAM,GACVA,mBAAA,CAGI,WAHD,8EAGH,GACAA,mBAAA,CAGK,aAFHA,mBAAA,CAAsD,aAAlDA,mBAAA,CAAsB,gBAAd,OAAK,GAjDjCa,gBAAA,CAiD0C,yBAAuB,E,GACjDb,mBAAA,CAAyD,aAArDA,mBAAA,CAAuB,gBAAf,QAAM,GAlDlCa,gBAAA,CAkD2C,2BAAyB,E;MAlDpEO,CAAA;QAwDQlB,YAAA,CAEWI,mBAAA;MAFDC,MAAM,EAAC;IAAM;MAxD/BH,OAAA,EAAAC,QAAA,CAyDU,MAAsB,CAAtBH,YAAA,CAAsBuB,6BAAA,E;MAzDhCL,CAAA;QA4DQlB,YAAA,CAEWI,mBAAA;MAFDC,MAAM,EAAC;IAAO;MA5DhCH,OAAA,EAAAC,QAAA,CA6DU,MAAmB,CAAnBH,YAAA,CAAmBwB,0BAAA,E;MA7D7BN,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}